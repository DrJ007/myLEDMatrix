#
# Drive a 8x8 LED matrix using a MAX7219
#
# frederic.boulanger@centralesupelec.fr
# 2015-05-28
# copyright CentraleSupelec
#
import myLED
import pyb


disp1 = [
(0x3C,0x42,0x42,0x42,0x42,0x42,0x42,0x3C),##0
(0x10,0x30,0x50,0x10,0x10,0x10,0x10,0x10),##1
(0x7E,0x2,0x2,0x7E,0x40,0x40,0x40,0x7E),##2
(0x3E,0x2,0x2,0x3E,0x2,0x2,0x3E,0x0),##3
(0x8,0x18,0x28,0x48,0xFE,0x8,0x8,0x8),##4
(0x3C,0x20,0x20,0x3C,0x4,0x4,0x3C,0x0),##5
(0x3C,0x20,0x20,0x3C,0x24,0x24,0x3C,0x0),##6
(0x3E,0x22,0x4,0x8,0x8,0x8,0x8,0x8),##7
(0x0,0x3E,0x22,0x22,0x3E,0x22,0x22,0x3E),##8
(0x3E,0x22,0x22,0x3E,0x2,0x2,0x2,0x3E),##9
(0x8,0x14,0x22,0x3E,0x22,0x22,0x22,0x22),##A
(0x3C,0x22,0x22,0x3E,0x22,0x22,0x3C,0x0),##B
(0x3C,0x40,0x40,0x40,0x40,0x40,0x3C,0x0),##C
(0x7C,0x42,0x42,0x42,0x42,0x42,0x7C,0x0),##D
(0x7C,0x40,0x40,0x7C,0x40,0x40,0x40,0x7C),##E
(0x7C,0x40,0x40,0x7C,0x40,0x40,0x40,0x40),##F
(0x3C,0x40,0x40,0x40,0x40,0x44,0x44,0x3C),##G
(0x44,0x44,0x44,0x7C,0x44,0x44,0x44,0x44),##H
(0x7C,0x10,0x10,0x10,0x10,0x10,0x10,0x7C),##I
(0x3C,0x8,0x8,0x8,0x8,0x8,0x48,0x30),##J
(0x0,0x24,0x28,0x30,0x20,0x30,0x28,0x24),##K
(0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x7C),##L
(0x81,0xC3,0xA5,0x99,0x81,0x81,0x81,0x81),##M
(0x0,0x42,0x62,0x52,0x4A,0x46,0x42,0x0),##N
(0x3C,0x42,0x42,0x42,0x42,0x42,0x42,0x3C),##O
(0x3C,0x22,0x22,0x22,0x3C,0x20,0x20,0x20),##P
(0x1C,0x22,0x22,0x22,0x22,0x26,0x22,0x1D),##Q
(0x3C,0x22,0x22,0x22,0x3C,0x24,0x22,0x21),##R
(0x0,0x1E,0x20,0x20,0x3E,0x2,0x2,0x3C),##S
(0x0,0x3E,0x8,0x8,0x8,0x8,0x8,0x8),##T
(0x42,0x42,0x42,0x42,0x42,0x42,0x22,0x1C),##U
(0x42,0x42,0x42,0x42,0x42,0x42,0x24,0x18),##V
(0x0,0x49,0x49,0x49,0x49,0x2A,0x1C,0x0),##W
(0x0,0x41,0x22,0x14,0x8,0x14,0x22,0x41),##X
(0x41,0x22,0x14,0x8,0x8,0x8,0x8,0x8),##Y
(0x0,0x7F,0x2,0x4,0x8,0x10,0x20,0x7F)##Z
]

alien1f1 = (
    0B00011000, ## This is the first frame for alien #1
    0B00111100, ## If you squint you can kind of see the
    0B01111110, ## image in the 0's and 1's.
    0B11011011,
    0B11111111,
    0B00100100,
    0B01011010,
    0B10100101)

alien1f2 = (
    0B00011000, ## This is the second frame for alien #1
    0B00111100,
    0B01111110,
    0B11011011,
    0B11111111,
    0B00100100,
    0B01011010,
    0B01000010)
    

# An image as a list of integer lines
smiley = (
    0B00111100,
    0B01000010,
    0B10100101,
    0B10000001,
    0B10100101,
    0B10011001,
    0B01000010,
    0B00111100
)

alien2f1 = (
  0B00000000, ## First frame for alien #2
  0B00111100,
  0B01111110,
  0B11011011,
  0B11011011,
  0B01111110,
  0B00100100,
  0B11000011)
 
alien2f2 = (
  0B00111100, ## Second frame for alien #2
  0B01111110,
  0B11011011,
  0B11011011,
  0B01111110,
  0B00100100,
  0B00100100,
  0B00100100)

alien3f1 = (
  0B00100100, ## First frame for alien #3
  0B00100100,
  0B01111110,
  0B11011011,
  0B11111111,
  0B11111111,
  0B10100101,
  0B00100100)
 
alien3f2 = (
  0B00100100, ## Second frame for alien #3
  0B10100101,
  0B11111111,
  0B11011011,
  0B11111111,
  0B01111110,
  0B00100100,
  0B01000010)

alien4f1 = (
  0B00111100, ## First frame for alien #4
  0B01111110,
  0B00110011,
  0B01111110,
  0B00111100,
  0B00000000,
  0B00001000,
  0B00000000)
 
alien4f2 = (
  0B00111100, ## Second frame for alien #4
  0B01111110,
  0B10011001,
  0B01111110,
  0B00111100,
  0B00000000,
  0B00001000,
  0B00001000)
 
alien4f3 = (
  0B00111100, ## Third frame for alien #4 (NOT a repeat of frame 1)
  0B01111110,
  0B11001100,
  0B01111110,
  0B00111100,
  0B00000000,
  0B00000000,
  0B00001000)
 
alien4f4=(
  0B00111100, ## Fourth frame for alien #4 (NOT a repeat of frame 2)
  0B01111110,
  0B01100110,
  0B01111110,
  0B00111100,
  0B00000000,
  0B00000000,
  0B00000000)
 
# An image as a matrix of objects (True = on, None/False = off)
smiley2 = (
    (None, None, True, True, True, True, None, None),
    (None, True, None, None, None, None, True, None),
    (True, None, True, None, None, True, None, True),
    (True, None, None, None, None, None, None, True),
    (True, None, True, None, None, True, None, True),
    (True, None, None, True, True, None, None, True),
    (None, True, None, None, None, None, True, None),
    (None, None, True, True, True, True, None, None)
)
 
# An image as a list of strings (space = off, others = on)
frowney = (
    '  ....  ',
    ' .    . ',
    '. .  . .',
    '.      .',
    '.  ..  .',
    '. .  . .',
    ' .    . ',
    '  ....  '
)


myMatrix = myLED.matrix()

myMatrix.setIntensity(10)
 
##for i in range(8):
##    myMatrix.writeColumn(i, 0xFF)
##    pyb.delay(500)
##    myMatrix.writeColumn(i, 0x00)
## 
##for y in range(8):
##    for x in range(8):
##        myMatrix.setPixel(x, y, True)
##    myMatrix.updateDisplay()
##    pyb.delay(500)
##    for x in range(8):
##        myMatrix.setPixel(x, y, False)
 
for i in range(2):
    myMatrix.showImage(alien1f1)
    pyb.delay(250)
    myMatrix.showImage(alien1f2)
    pyb.delay(250)

for i in range(2):
    myMatrix.showImage(alien2f1)
    pyb.delay(250)
    myMatrix.showImage(alien2f2)
    pyb.delay(250)

for i in range(2):
    myMatrix.showImage(alien3f1)
    pyb.delay(250)
    myMatrix.showImage(alien3f2)
    pyb.delay(250)

for i in range(2):
    myMatrix.showImage(alien4f1)
    pyb.delay(120)
    myMatrix.showImage(alien4f2)
    pyb.delay(120)
    myMatrix.showImage(alien4f3)
    pyb.delay(120)
    myMatrix.showImage(alien4f4)
    pyb.delay(120)

for i in range(36):
    myMatrix.showImage(disp1[i])
    pyb.delay(500)

myMatrix.clearDisplay()

